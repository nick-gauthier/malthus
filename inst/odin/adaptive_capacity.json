{"version":"1.2.5","config":{"base":"adaptive_capacity","include":null,"custom":null},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"discrete":false,"has_array":false,"has_output":true,"has_user":true,"has_delay":true,"has_interpolate":false,"has_stochastic":false,"has_include":false,"initial_time_dependent":true},"data":{"elements":[{"name":"a1","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"a2","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"alpha","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"b1","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"b2","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"C","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"cap","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"cap2","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"delay_index_N_lag_fitness","location":"internal","storage_type":"int","rank":1,"dimnames":{"length":1,"dim":[],"mult":[]},"stage":"constant"},{"name":"delay_index_N_lag_resources","location":"internal","storage_type":"int","rank":1,"dimnames":{"length":1,"dim":[],"mult":[]},"stage":"constant"},{"name":"delay_state_N_lag_fitness","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":1,"dim":[],"mult":[]},"stage":"null"},{"name":"delay_state_N_lag_resources","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":1,"dim":[],"mult":[]},"stage":"null"},{"name":"fit1","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"fitness","location":"output","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"fmin","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"initial_N","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"constant"},{"name":"initial_t","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"null"},{"name":"K","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"Kt1","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"Kt2","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"N","location":"variable","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"N_lag_fitness","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"N_lag_resources","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"r","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"S","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"tau1","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"tau2","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"}],"variable":{"length":1,"contents":[{"name":"N","offset":0,"initial":"initial_N"}]},"output":{"length":1,"contents":[{"name":"fitness","offset":0}]}},"equations":[{"name":"a1","type":"user","source":[29],"depends":null,"lhs":"a1","user":{"default":0,"dim":false,"min":null,"max":null}},{"name":"a2","type":"user","source":[30],"depends":null,"lhs":"a2","user":{"default":3,"dim":false,"min":null,"max":null}},{"name":"alpha","type":"user","source":[39],"depends":null,"lhs":"alpha","user":{"default":2,"dim":false,"min":null,"max":null}},{"name":"b1","type":"user","source":[32],"depends":null,"lhs":"b1","user":{"default":0,"dim":false,"min":null,"max":null}},{"name":"b2","type":"user","source":[33],"depends":null,"lhs":"b2","user":{"default":0,"dim":false,"min":null,"max":null}},{"name":"C","type":"user","source":[26],"depends":null,"lhs":"C","user":{"default":1,"dim":false,"min":null,"max":null}},{"name":"cap","type":"expression_scalar","source":[4],"depends":{"functions":["*"],"variables":["b1","N_lag_resources"]},"lhs":"cap","rhs":{"value":["*","b1","N_lag_resources"]}},{"name":"cap2","type":"expression_scalar","source":[5],"depends":{"functions":["*"],"variables":["b2","N_lag_resources"]},"lhs":"cap2","rhs":{"value":["*","b2","N_lag_resources"]}},{"name":"delay_index_N_lag_fitness","type":"delay_index","source":[1],"depends":null,"lhs":"delay_index_N_lag_fitness","delay":"N_lag_fitness"},{"name":"delay_index_N_lag_resources","type":"delay_index","source":[2],"depends":null,"lhs":"delay_index_N_lag_resources","delay":"N_lag_resources"},{"name":"deriv_N","type":"expression_scalar","source":[14],"depends":{"functions":["-","*","/","(","^"],"variables":["r","N","S","alpha","K"]},"lhs":"N","rhs":{"value":["-",["*","r","N"],["/",["(",["*","S",["^","N","alpha"]]],"K"]]}},{"name":"fit1","type":"expression_scalar","source":[10],"depends":{"functions":["-","*","(","/"],"variables":["r","S","Kt1","N_lag_fitness"]},"lhs":"fit1","rhs":{"value":["-","r",["*",["(",["/","S","Kt1"]],"N_lag_fitness"]]}},{"name":"fmin","type":"user","source":[35],"depends":null,"lhs":"fmin","user":{"default":0.1,"dim":false,"min":null,"max":null}},{"name":"initial_N","type":"expression_scalar","source":[22],"depends":null,"lhs":"initial_N","rhs":{"value":0.01}},{"name":"K","type":"expression_scalar","source":[12],"depends":{"functions":["if","<"],"variables":["fit1","fmin","Kt2","Kt1"]},"lhs":"K","rhs":{"value":["if",["<","fit1","fmin"],"Kt2","Kt1"]}},{"name":"Kt1","type":"expression_scalar","source":[7],"depends":{"functions":["+"],"variables":["C","a1","cap"]},"lhs":"Kt1","rhs":{"value":["+",["+","C","a1"],"cap"]}},{"name":"Kt2","type":"expression_scalar","source":[8],"depends":{"functions":["+"],"variables":["C","a2","cap2"]},"lhs":"Kt2","rhs":{"value":["+",["+","C","a2"],"cap2"]}},{"name":"N_lag_fitness","type":"delay_continuous","source":[1],"depends":{"functions":[],"variables":["tau1","t"]},"lhs":"N_lag_fitness","rhs":{"value":"N"},"delay":{"state":"delay_state_N_lag_fitness","index":"delay_index_N_lag_fitness","substitutions":[],"variables":{"length":1,"contents":[{"name":"N","offset":0}]},"equations":[],"default":null,"time":"tau1"}},{"name":"N_lag_resources","type":"delay_continuous","source":[2],"depends":{"functions":[],"variables":["tau2","t"]},"lhs":"N_lag_resources","rhs":{"value":"N"},"delay":{"state":"delay_state_N_lag_resources","index":"delay_index_N_lag_resources","substitutions":[],"variables":{"length":1,"contents":[{"name":"N","offset":0}]},"equations":[],"default":null,"time":"tau2"}},{"name":"output_fitness","type":"expression_scalar","source":[16],"depends":{"functions":["-","(","/","*"],"variables":["r","S","N","K"]},"lhs":"fitness","rhs":{"value":["-","r",["(",["/",["*","S","N"],"K"]]]}},{"name":"r","type":"user","source":[24],"depends":null,"lhs":"r","user":{"default":0.25,"dim":false,"min":null,"max":null}},{"name":"S","type":"user","source":[25],"depends":null,"lhs":"S","user":{"default":0.5,"dim":false,"min":null,"max":null}},{"name":"tau1","type":"user","source":[36],"depends":null,"lhs":"tau1","user":{"default":0,"dim":false,"min":null,"max":null}},{"name":"tau2","type":"user","source":[37],"depends":null,"lhs":"tau2","user":{"default":0,"dim":false,"min":null,"max":null}}],"components":{"create":{"variables":[],"equations":["delay_index_N_lag_fitness","delay_index_N_lag_resources","initial_N"]},"user":{"variables":[],"equations":["a1","a2","alpha","b1","b2","C","fmin","r","S","tau1","tau2"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["N"],"equations":["N_lag_fitness","N_lag_resources","cap","cap2","Kt1","Kt2","fit1","K","deriv_N"]},"output":{"variables":["N"],"equations":["N_lag_fitness","N_lag_resources","cap","cap2","Kt1","Kt2","fit1","K","output_fitness"]}},"user":[{"name":"a1","has_default":true},{"name":"a2","has_default":true},{"name":"alpha","has_default":true},{"name":"b1","has_default":true},{"name":"b2","has_default":true},{"name":"C","has_default":true},{"name":"fmin","has_default":true},{"name":"r","has_default":true},{"name":"S","has_default":true},{"name":"tau1","has_default":true},{"name":"tau2","has_default":true}],"interpolate":{"min":[],"max":[],"critical":[]},"source":["N_lag_fitness <- delay(N, tau1) # time delay","N_lag_resources <- delay(N, tau2) # time delay","","cap <- b1 * N_lag_resources # strategy 1 niche capacity","cap2 <- b2 * N_lag_resources # strategy 1 niche capacity","","Kt1 <- C + a1 + cap # carrying capacity strategy 1","Kt2 <- C + a2 + cap2 # carrying capacity strategy 2","","fit1 <- r - (S / Kt1) * N_lag_fitness # per capita fitness strategy 1","","K <- if (fit1 < fmin) Kt2 else Kt1 # actual carrying capacity","","deriv(N) <- r * N - (S * N ^ alpha) / K","","output(fitness) <- r - (S * N / K) # actual per capita fitness","","# K <- A - B * N_lag_resources + C # carrying capacity # note not this anymore, b has to be negative to get this?","","","# Create a vector of initial conditions","initial(N) <- 0.01","","r <- user(0.25)  # growth rate [0-0.03] # 0.25 in the paper for generational time scale","S <- user(0.5) # cost of social integration, 0 < S <= 1","C <- user(1) # climate control on resources","","# assume a1 < a2 and b1 > b2","a1 <- user(0) # effect of human-made infrastructure on carrying capacity pre innovation","a2 <- user(3) # effect of human-made infrastructure on carrying capacity post innovation","","b1 <- user(0) # effect of population density on resource productivity pre innovation","b2 <- user(0) # effect of population density on resource productivity post innovation","","fmin <- user(0.1) # minimum fitness to induce innovation","tau1 <- user(0) # time delay in perception of population pressure impacting fitness (generations)","tau2 <- user(0) # time delay in population pressure impacting carrying capacity (generations)","","alpha <- user(2) # exponent of population pressure on carrying capacity"]}
